# ä¸ç“œæ¸…å•ç®¡ç†ç³»ç»Ÿ PRD

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°ï¼š** ä¸ç“œæ¸…å•ç®¡ç†ç³»ç»Ÿï¼ˆSponge Gourd Trackerï¼‰

**ç‰ˆæœ¬ï¼š** v1.0

**ç›®æ ‡ï¼š** æ„å»ºä¸€ä¸ªç®€æ´ã€ç°ä»£ã€è§†è§‰é«˜çº§çš„Webåº”ç”¨ï¼Œç”¨äºç®¡ç†å’ŒæŸ¥çœ‹ä»å„ä¸ªæ¸ é“é‡‡é›†çš„ä¸ç“œæ¸…å•æ•°æ®ã€‚

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

### 1. æ•°æ®å±•ç¤ºåŠŸèƒ½

#### 1.1 æ¸…å•åˆ—è¡¨é¡µ
- **å¤šæ ‡ç­¾è§†å›¾**ï¼šæ”¯æŒä¸‰ä¸ªåˆ†ç±»æ ‡ç­¾
  - ğŸŒ± æ–°ä¸ç“œï¼ˆå®ä¹ æ‹›è˜ï¼‰
  - ğŸŒ¿ ç”Ÿä¸ç“œï¼ˆæ ¡å›­æ‹›è˜ï¼‰
  - ğŸ¥’ ç†Ÿä¸ç“œï¼ˆç¤¾ä¼šæ‹›è˜ï¼‰
  
- **å¡ç‰‡å¼å±•ç¤º**
  - æ¯æ¡æ•°æ®ä»¥ç²¾ç¾å¡ç‰‡å½¢å¼å±•ç¤º
  - æ–°é‡‡æ‘˜çš„æ¡ç›®å¸¦æœ‰ç‰¹æ®Šæ ‡è¯†ï¼ˆé»„è‰²å¾½ç« æˆ–é—ªå…‰æ•ˆæœï¼‰
  - å¡ç‰‡æ‚¬æµ®æ—¶æœ‰å¾®åŠ¨æ•ˆæœ

- **å…³é”®ä¿¡æ¯å±•ç¤º**
  - æ ‡é¢˜ï¼ˆtitleï¼‰
  - å‰¯æ ‡é¢˜ï¼ˆsub_titleï¼‰
  - é‡‡æ‘˜æ—¶é—´ï¼ˆé«˜äº®æ˜¾ç¤ºï¼‰
  - å‘å¸ƒæ—¶é—´ï¼ˆpublish_timeï¼‰
  - åˆ†ç±»æ ‡ç­¾

#### 1.2 è¯¦æƒ…é¡µ
- ç‚¹å‡»å¡ç‰‡å±•å¼€/å¼¹çª—æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
- å±•ç¤ºæ‰€æœ‰å­—æ®µï¼ˆdescription, requirement, location, departmentç­‰ï¼‰
- æä¾›å¿«é€Ÿæ“ä½œæŒ‰é’®ï¼ˆå¤åˆ¶ã€æ ‡è®°ã€å¤–éƒ¨é“¾æ¥ï¼‰

#### 1.3 æœç´¢ä¸ç­›é€‰
- **å®æ—¶æœç´¢**ï¼šæ”¯æŒæ ‡é¢˜ã€æè¿°ã€è¦æ±‚å…³é”®è¯æœç´¢
- **æ—¶é—´ç­›é€‰**ï¼šæŒ‰é‡‡æ‘˜æ—¶é—´ã€å‘å¸ƒæ—¶é—´èŒƒå›´ç­›é€‰
- **çŠ¶æ€ç­›é€‰**ï¼šæ–°é‡‡æ‘˜/å·²æŸ¥çœ‹

### 2. æ•°æ®ç»Ÿè®¡åŠŸèƒ½

#### 2.1 ä»ªè¡¨ç›˜
- **æ€»è§ˆå¡ç‰‡**
  - æ€»æ¡ç›®æ•°
  - ä»Šæ—¥æ–°å¢
  - æœ¬å‘¨æ–°å¢
  - å„ç±»å‹å æ¯”ï¼ˆé¥¼å›¾ï¼‰

- **è¶‹åŠ¿å›¾è¡¨**
  - æ¯æ—¥é‡‡æ‘˜æ•°é‡è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰
  - åˆ†ç±»å¯¹æ¯”æŸ±çŠ¶å›¾

### 3. æ•°æ®åŒæ­¥åŠŸèƒ½

#### 3.1 æ‰‹åŠ¨åŒæ­¥
- è§¦å‘Pythonçˆ¬è™«è„šæœ¬è¿è¡Œ
- æ˜¾ç¤ºåŒæ­¥è¿›åº¦å’ŒçŠ¶æ€
- åŒæ­¥å®Œæˆåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨

#### 3.2 è‡ªåŠ¨åŒæ­¥ï¼ˆå¯é€‰ï¼‰
- æ”¯æŒå®šæ—¶ä»»åŠ¡é…ç½®
- å¯è®¾ç½®åŒæ­¥é¢‘ç‡ï¼ˆæ¯å°æ—¶/æ¯å¤©ç­‰ï¼‰

---

## ğŸ¨ è§†è§‰è®¾è®¡è¦æ±‚

### è®¾è®¡é£æ ¼
- **ç°ä»£ç®€çº¦**ï¼šæ‰å¹³åŒ–è®¾è®¡ï¼Œå»ç¹å°±ç®€
- **é«˜çº§æ„Ÿ**ï¼šä½¿ç”¨æ¸å˜ã€æ¯›ç»ç’ƒã€é˜´å½±ç­‰ç°ä»£å…ƒç´ 
- **èˆ’é€‚é…è‰²**ï¼š
  - ä¸»è‰²è°ƒï¼šæ·±è“/ç´«ç½—å…°æ¸å˜ `#667eea â†’ #764ba2`
  - è¾…åŠ©è‰²ï¼šç¿ ç»¿è‰² `#48c774`ï¼ˆä»£è¡¨æ–°é²œä¸ç“œï¼‰
  - èƒŒæ™¯ï¼šæµ…ç°æ¸å˜ `#f5f7fa`
  - æ–‡å­—ï¼šæ·±ç° `#2c3e50`

### UIç»„ä»¶
- **Material Design** æˆ– **Ant Design** é£æ ¼
- åœ†è§’å¡ç‰‡ï¼ˆborder-radius: 12pxï¼‰
- æŸ”å’Œé˜´å½±ï¼ˆbox-shadow: 0 4px 20px rgba(0,0,0,0.08)ï¼‰
- æµç•…åŠ¨ç”»ï¼ˆhoveræ•ˆæœã€é¡µé¢åˆ‡æ¢ï¼‰

### å“åº”å¼è®¾è®¡
- æ”¯æŒæ¡Œé¢ç«¯ï¼ˆ1920px+ï¼‰
- æ”¯æŒå¹³æ¿ï¼ˆ768px-1024pxï¼‰
- æ”¯æŒç§»åŠ¨ç«¯ï¼ˆ320px+ï¼‰

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **UIåº“**ï¼šAnt Design 5.x / Tailwind CSS
- **çŠ¶æ€ç®¡ç†**ï¼šZustand / React Query
- **å›¾è¡¨**ï¼šChart.js / Recharts
- **HTTPè¯·æ±‚**ï¼šAxios

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šFlask / FastAPI (Python)
- **æ•°æ®åº“**ï¼šMongoDB
- **ORM/ODM**ï¼šPyMongo / Motor (å¼‚æ­¥)
- **ä»»åŠ¡è°ƒåº¦**ï¼šAPSchedulerï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰

### æ•°æ®åº“è®¾è®¡

#### Collection: `sponge_items`

```javascript
{
  _id: ObjectId,
  sheet_name: String,        // 'intern' | 'campus' | 'experienced'
  type_name: String,         // 'æ–°ä¸ç“œ' | 'ç”Ÿä¸ç“œ' | 'ç†Ÿä¸ç“œ'
  
  // æ ¸å¿ƒä¿¡æ¯
  title: String,
  sub_title: String,
  description: String,
  requirement: String,
  
  // æ—¶é—´ä¿¡æ¯
  é‡‡æ‘˜æ—¶é—´: Date,             // æ£€æµ‹åˆ°çš„æ—¶é—´
  publish_time: Date,        // å‘å¸ƒæ—¶é—´
  
  // æ ‡è¯†ä¿¡æ¯
  code: String,
  job_id: String,
  job_hash: String,          // ç”¨äºå»é‡
  
  // åˆ†ç±»ä¿¡æ¯
  job_category: String,
  job_function: String,
  recruit_type_name: String,
  
  // åœ°ç‚¹ä¿¡æ¯
  city_list: String,
  address: String,
  location: Object,
  
  // å…¶ä»–ä¿¡æ¯
  department: Object,
  min_salary: Number,
  max_salary: Number,
  degree: String,
  experience: String,
  
  // é“¾æ¥
  pc_job_url: String,
  wap_job_url: String,
  
  // çŠ¶æ€
  is_new: Boolean,           // æ˜¯å¦ä¸ºæ–°é‡‡æ‘˜
  is_viewed: Boolean,        // æ˜¯å¦å·²æŸ¥çœ‹
  
  // å…ƒæ•°æ®
  created_at: Date,
  updated_at: Date
}
```

#### Collection: `sync_logs`

```javascript
{
  _id: ObjectId,
  sync_time: Date,           // åŒæ­¥æ—¶é—´
  type: String,              // 'auto' | 'manual'
  status: String,            // 'success' | 'failed'
  new_count: Number,         // æ–°å¢æ•°é‡
  total_count: Number,       // æ€»æ•°é‡
  duration: Number,          // è€—æ—¶ï¼ˆç§’ï¼‰
  error_message: String      // é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰
}
```

---

## ğŸš€ åŠŸèƒ½ä¼˜å…ˆçº§

### P0 (å¿…é¡»æœ‰)
- [x] æ•°æ®åº“è¿æ¥ä¸æ•°æ®å¯¼å…¥
- [x] åˆ—è¡¨é¡µå±•ç¤ºï¼ˆä¸‰ä¸ªåˆ†ç±»ï¼‰
- [x] åŸºç¡€æœç´¢åŠŸèƒ½
- [x] è¯¦æƒ…æŸ¥çœ‹
- [x] å“åº”å¼å¸ƒå±€

### P1 (é‡è¦)
- [ ] æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜
- [ ] é«˜çº§ç­›é€‰
- [ ] æ‰‹åŠ¨åŒæ­¥åŠŸèƒ½
- [ ] ç¾è§‚çš„UIè®¾è®¡

### P2 (é”¦ä¸Šæ·»èŠ±)
- [ ] è‡ªåŠ¨åŒæ­¥ä»»åŠ¡
- [ ] æ•°æ®å¯¼å‡ºï¼ˆExcel/CSVï¼‰
- [ ] ä¸ªäººæ”¶è—åŠŸèƒ½
- [ ] æ·±è‰²æ¨¡å¼

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
paquzijie/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app.py              # Flaskä¸»ç¨‹åº
â”‚   â”œâ”€â”€ config.py           # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ models.py           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ items.py        # æ¸…å•ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ stats.py        # ç»Ÿè®¡ç›¸å…³API
â”‚   â”‚   â””â”€â”€ sync.py         # åŒæ­¥ç›¸å…³API
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ db.py           # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â””â”€â”€ sync.py         # åŒæ­¥æœåŠ¡
â”‚   â””â”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ItemCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ItemDetail.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Stats.tsx
â”‚   â”‚   â”œâ”€â”€ services/       # APIè°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ styles/         # æ ·å¼
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ 1.py                    # åŸçˆ¬è™«è„šæœ¬
â”œâ”€â”€ PRD.md                  # æœ¬æ–‡æ¡£
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”Œ APIæ¥å£è®¾è®¡

### åŸºç¡€ä¿¡æ¯
- **Base URL**: `http://localhost:5000/api`
- **è®¤è¯æ–¹å¼**: æš‚ä¸éœ€è¦ï¼ˆå¯åç»­æ·»åŠ ï¼‰

### æ¥å£åˆ—è¡¨

#### 1. è·å–æ¸…å•åˆ—è¡¨
```http
GET /api/items?type={type}&page={page}&limit={limit}&search={keyword}

Response:
{
  "success": true,
  "data": {
    "items": [...],
    "total": 895,
    "page": 1,
    "limit": 20
  }
}
```

#### 2. è·å–å•ä¸ªè¯¦æƒ…
```http
GET /api/items/{id}

Response:
{
  "success": true,
  "data": { ... }
}
```

#### 3. è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/stats

Response:
{
  "success": true,
  "data": {
    "total": 895,
    "today_new": 15,
    "week_new": 80,
    "type_distribution": {
      "æ–°ä¸ç“œ": 180,
      "ç”Ÿä¸ç“œ": 115,
      "ç†Ÿä¸ç“œ": 600
    },
    "daily_trend": [...]
  }
}
```

#### 4. è§¦å‘åŒæ­¥
```http
POST /api/sync

Response:
{
  "success": true,
  "message": "åŒæ­¥å·²å¯åŠ¨",
  "task_id": "xxx"
}
```

#### 5. è·å–åŒæ­¥çŠ¶æ€
```http
GET /api/sync/status/{task_id}

Response:
{
  "success": true,
  "data": {
    "status": "running" | "completed" | "failed",
    "progress": 75,
    "message": "æ­£åœ¨æ•´ç†æ–°ä¸ç“œ..."
  }
}
```

---

## ğŸ¬ å®æ–½æ­¥éª¤

### Phase 1: åç«¯æ­å»ºï¼ˆ1-2å¤©ï¼‰
1. âœ… å®‰è£…MongoDBå¹¶é…ç½®
2. âœ… åˆ›å»ºFlaské¡¹ç›®ç»“æ„
3. âœ… å®ç°æ•°æ®åº“è¿æ¥å’Œæ¨¡å‹
4. âœ… å¼€å‘æ ¸å¿ƒAPIæ¥å£
5. âœ… ç¼–å†™æ•°æ®å¯¼å…¥è„šæœ¬ï¼ˆä»Excel/JSONåˆ°MongoDBï¼‰

### Phase 2: å‰ç«¯å¼€å‘ï¼ˆ2-3å¤©ï¼‰
1. âœ… åˆå§‹åŒ–React + Viteé¡¹ç›®
2. âœ… è®¾è®¡å¹¶å®ç°UIç»„ä»¶
3. âœ… å®ç°åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µ
4. âœ… æ¥å…¥åç«¯API
5. âœ… ä¼˜åŒ–è§†è§‰æ•ˆæœå’ŒåŠ¨ç”»

### Phase 3: åŠŸèƒ½å®Œå–„ï¼ˆ1å¤©ï¼‰
1. âœ… å®ç°æœç´¢å’Œç­›é€‰
2. âœ… æ·»åŠ ç»Ÿè®¡ä»ªè¡¨ç›˜
3. âœ… å®ç°åŒæ­¥åŠŸèƒ½
4. âœ… æµ‹è¯•å’ŒBugä¿®å¤

### Phase 4: éƒ¨ç½²ä¸Šçº¿ï¼ˆåŠå¤©ï¼‰
1. âœ… é…ç½®ç”Ÿäº§ç¯å¢ƒ
2. âœ… ç¼–å†™éƒ¨ç½²æ–‡æ¡£
3. âœ… å¯åŠ¨æœåŠ¡

---

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- âœ… æ”¯æŒ1000+æ¡æ•°æ®æµç•…å±•ç¤º
- âœ… ç§»åŠ¨ç«¯é€‚é…å®Œæ•´
- âœ… UIè®¾è®¡è·å¾—ç”¨æˆ·å¥½è¯„
- âœ… åŒæ­¥åŠŸèƒ½ç¨³å®šå¯é 

---

## ğŸ”® æœªæ¥æ‰©å±•

- ç”¨æˆ·ç™»å½•å’Œæƒé™ç®¡ç†
- å¤šäººåä½œå’Œæ•°æ®å…±äº«
- æ™ºèƒ½æ¨èç³»ç»Ÿ
- æ•°æ®åˆ†æå’Œæ´å¯Ÿ
- é€šçŸ¥æé†’åŠŸèƒ½

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2025-10-21  
**æœ€åæ›´æ–°**: 2025-10-21  
**è´Ÿè´£äºº**: AI Assistant

